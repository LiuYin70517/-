# FluentApi

##### 约定配置

>**主要规则**
>
>- 表名称采用DbContext中DbSet给出的属性名。
>- 数据表列的名称采用实体类属性的名字，列的数据类型采用和实体类属性类型最兼容的类型。
>- 数据表列的可空性取决于对应实体类属性的可空性。
>- 实体类中名字是Id的属性为主键，如何类型为short、int、long类型，则默认采用自增字段，如何主键为Guid类型，则默认采用Guid生成机制生成主键值。

##### FluentApi介绍

>- 使用 Fluent API 配置时，从继承 EntityTypeConfiguration实体中配置。 
>- 它具有对单一字段配置和多关系导航配置，在复杂导航配置中使用Lambda表达式来完成。

##### 常用配置方法

| 方法名称        | 参数类型           | 备注                                                         |
| --------------- | ------------------ | ------------------------------------------------------------ |
| HasKey          | 主键类型           | 可配置单一主键和复合主键<br />复合主键用法t=> new {字段1，字段2} |
| Property        | 接收需要配置的字段 | Lambda指向单一字段常用于链式操作                             |
| IsRequired      | ?                  | 指定该字段在数据库表中不可为Null                             |
| IsUnicode       | bool               | 配置字符串属性是否支持Unicode                                |
| HasColumnType   | string             | 配置数据库列的数据类型                                       |
| HasColumnType   | string             | 设置字段在数据库表中的列名称                                 |
| HasMaxLength    | int                | 给指定属性值的最大长度                                       |
| ToTable         | string             | 映射到数据库的表名称                                         |
| Ignore          | 字段               | 排除某一个属性的映射                                         |
| HasDefaultValue | 字段               | 为某一字段设置默认值，它的值类型取决于指向的字段类型         |
| HasIndex        | 字段               | 设置某一列为索引，复合索引设置方法与主键相同                 |
| IsUnique        | 字段               | 设置某一列为唯一索引（列中的值不可以重复）                   |
| IsClustered     | 字段               | 设置某一列为聚集索引                                         |

